const siteHeader=document.querySelector(".site-header"),mobileBtn=document.querySelector(".mobile-menu-button"),mainMenu=document.querySelector(".site-header .main-nav"),parentMenuItems=document.querySelectorAll(".site-header .main-nav .menu-item-has-children"),mainContent=document.querySelectorAll(".page-template-default .main-content"),blocksInContent=document.querySelectorAll(".page-template-default .main-content .block[data-extract]"),mobile=480,tablet=768,ldpi=1024,mdpi=1200,hdpi=1440;function eventListeners(){let e;showMenus(),window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{showMenus()},250)}),document.querySelector(".site-header--sticky")&&window.addEventListener("scroll",fadeInHeader)}function showMenus(){const e=document.querySelectorAll(".site-header .main-nav .menu-item-has-children");mobileBtn&&mainMenu&&(mobileBtn.removeEventListener("click",handleMenuClick),window.screen.width>768?(mobileBtn.classList.remove("active"),mainMenu.classList.remove("active"),e.forEach(e=>{e.removeEventListener("click",handleSubMenuClick),e.classList.remove("active")})):(mobileBtn.addEventListener("click",handleMenuClick),e.forEach(e=>{e.removeEventListener("click",handleSubMenuClick),e.addEventListener("click",handleSubMenuClick)})))}function handleMenuClick(){removeSubmenuActiveClasses(),mainMenu.classList.toggle("active"),mobileBtn.classList.toggle("active")}function handleSubMenuClick(e){if("A"!==e.target.tagName){e.stopPropagation(),e.currentTarget.classList.toggle("active")}}function removeSubmenuActiveClasses(){parentMenuItems.forEach(e=>{e.classList.remove("active")})}function fadeInHeader(){window.scrollY>0?siteHeader.classList.add("scrolling"):siteHeader.classList.remove("scrolling")}function splideCarousels(){new Splide(".locations-cards__carousel .splide",{type:"loop",perMove:1,perPage:4,arrows:!0,pagination:!1,breakpoints:{[tablet]:{perPage:1},[ldpi]:{perPage:2}}}).mount()}function extractBlocks(){blocksInContent.forEach(e=>{"before"===e.getAttribute("data-extract")?mainContent.insertAdjacentHTML("beforebegin",e.outerHTML):mainContent.insertAdjacentHTML("afterend",e.outerHTML),e.remove()})}document.addEventListener("DOMContentLoaded",()=>{eventListeners(),blocksInContent&&extractBlocks(),splideCarousels()}),function(){"use strict";const e=document.querySelectorAll(".gmap-lazy");if(!e.length)return;let t=!1;const n=new WeakSet,o=new WeakSet;window.addEventListener("load",()=>{t=!0,function(){const t=[],n=[];e.forEach(e=>{e.closest(".splide")?t.push(e):n.push(e)}),t.length&&document.querySelectorAll(".splide:has(.gmap-lazy)").forEach(e=>{r.observe(e)});n.forEach(e=>a.observe(e))}()});const a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&t&&(i(e.target),a.unobserve(e.target))})},{rootMargin:"100px"}),r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&t&&(!function(e){if(o.has(e))return void console.log("Carousel already loaded, skipping");console.log("Loading carousel maps for the first time"),o.add(e);const t=setInterval(()=>{if(!e.classList.contains("is-initialized"))return;clearInterval(t);const n=e.querySelectorAll(".gmap-lazy");console.log(n),n.forEach(e=>{const t=e;t&&t.dataset.src&&i(t)})},50);setTimeout(()=>clearInterval(t),5e3)}(e.target),r.unobserve(e.target))})},{rootMargin:"200px"});function i(e){if(n.has(e))return;n.add(e);const t=e.dataset.src;if(!t)return;const o=document.createElement("iframe");o.src=t,o.width="100%",o.height="100%",o.style.cssText="\n      border: 0;\n      border-radius: 8px;\n      position: absolute;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    ",o.allowFullscreen=!0,o.referrerPolicy="no-referrer-when-downgrade",o.loading="eager",e.innerHTML="",e.appendChild(o),o.onload=()=>{o.style.opacity="1"},setTimeout(()=>{o.style.opacity="1"},300)}}();
//# sourceMappingURL=main-min.js.map
